#!/bin/bash
FONT=$(shtore get font.mono.family | sx -jx x)
FONTSIZE=$(shtore get font.mono.size)
FONTWEIGHT=$(shtore get font.mono.weight)

FONTXFT="$FONT:size=$FONTSIZE:weight=$FONTWEIGHT:hinting=true:antialias=true"

HEIGHT="$(shtore get bar.height)"
BACKGROUND="#$(shtore get colors.background | sx -jx 'x.map(function (c) { return ("0" + c.toString(16)).substr(-2); }).join("")')"
FOREGROUND="#$(shtore get colors.foreground | sx -jx 'x.map(function (c) { return ("0" + c.toString(16)).substr(-2); }).join("")')"

exec ~/lib/bar/lib/bar.js | lemonbar -d -f "$FONTXFT" -g "x$HEIGHT" -B "$BACKGROUND" -F "$FOREGROUND"
